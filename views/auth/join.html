{% extends 'layout.html' %} {% block content %}
<div class="join-wrap">
  <form id="join-form" action="/auth/join" method="post">
    <span>ğŸ°</span>

    <div class="input-group">
      <input
        id="join-username"
        type="text"
        name="username"
        placeholder="ì´ë¦„"
        required
      />
    </div>
    <div class="input-group">
      <input
        id="join-email"
        type="email"
        name="email"
        placeholder="ì´ë©”ì¼"
        required
      />
    </div>
    <div class="input-group">
      <input
        id="join-password"
        type="password"
        name="password"
        placeholder="ë¹„ë°€ë²ˆí˜¸"
        required
      />
    </div>
    <div class="input-group">
      <input
        id="join-passwordcheck"
        type="password"
        name="passwordcheck"
        placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸"
        required
      />
    </div>
    <button id="join-btn" type="submit" class="btn btn-primary">
      íšŒì›ê°€ì…
    </button>
    <a href="/auth/login">ì´ë¯¸ íšŒì›ì¸ê°€ìš”?</a>
  </form>
</div>
{% if errorMessage %}
<br />
<div class="alert alert-primary join__alert">
  {{errorMessage}}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
{% endif %} {% endblock %} {% block script %}
<script>
  window.onload = () => {
    const errors = new URL(location.href).searchParams.get("error");
    console.log(errors);
    if (errors) {
      if (errors === "wrongpassword") {
        alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
      } else if (errors === "already") {
        alert("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼ì…ë‹ˆë‹¤");
      } else {
        alert("ì˜ëª»ëœ ì ‘ê·¼ì…ë‹ˆë‹¤");
      }
    }
  };
</script>
{% endblock %}
